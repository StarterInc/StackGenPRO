<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE configuration PUBLIC "-//mybatis.org//DTD Config 3.0//EN" "http://mybatis.org/dtd/mybatis-3-config.dtd">

<configuration>
  <environments default="production">
    <!-- production JDBC data source -->
    <environment id="production">
      <transactionManager type="JDBC" />
      <dataSource type="POOLED">
        <property name="driver" value="com.mysql.jdbc.Driver" />
        <property name="url" value="jdbc:mysql://${dbUrl}:3306/${dbName}?autoReconnect=true" />
        <property name="username" value="${dbUser}" />
        <property name="password" value="${dbPassword}" />
        <property name="poolMaximumActiveConnections" value="5" />
        <property name="poolMaximumIdleConnections" value="3" />
        <property name="poolPingEnabled" value="true" />
        <property name="poolPingQuery" value="select 1" />
      </dataSource>
    </environment>
    <!-- non-prod JDBC data source same for now -->
    <environment id="staging">
      <transactionManager type="JDBC" />
      <dataSource type="POOLED">
        <property name="driver" value="com.mysql.jdbc.Driver" />
        <property name="url" value="jdbc:mysql://${dbUrl}:3306/${dbName}?autoReconnect=true" />
        <property name="username" value="${dbUser}" />
        <property name="password" value="${dbPassword}" />
        <property name="poolMaximumActiveConnections" value="5" />
        <property name="poolMaximumIdleConnections" value="3" />
        <property name="poolPingEnabled" value="true" />
        <property name="poolPingQuery" value="select 1" />
        <property name="poolTimeToWait" value="20000" />
        <property name="poolMaximumCheckoutTime" value="60000" />
      </dataSource>
    </environment>
    <!-- production JNDI data source FIX THIS!! -->
    <environment id="productionJNDI">
      <transactionManager type="JDBC" />
      <dataSource type="JNDI">
        <property name="initial_context" value="java:comp/env" />
        <property name="data_source" value="jdbc/${dbName}" />
      </dataSource>
    </environment>
  </environments>
  <mappers>
    <mapper resource="io/starter/stackgen/model/dao/StackgenOrderMapper.xml" />
    <mapper resource="io/starter/stackgen/model/dao/StackgenModelApiResponseMapper.xml" />
    <mapper resource="io/starter/stackgen/model/dao/StackgenCalendarEventMapper.xml" />
    <mapper resource="io/starter/stackgen/model/dao/StackgenCalendarMapper.xml" />
    <mapper resource="io/starter/stackgen/model/dao/StackgenAuditLogMapper.xml" />
    <mapper resource="io/starter/stackgen/model/dao/StackgenTagMapper.xml" />
    <mapper resource="io/starter/stackgen/model/dao/StackgenPrivilegeMapper.xml" />
    <mapper resource="io/starter/stackgen/model/dao/StackgenOrganizationMapper.xml" />
    <mapper resource="io/starter/stackgen/model/dao/StackgenCategoryMapper.xml" />
    <mapper resource="io/starter/stackgen/model/dao/StackgenCsatMapper.xml" />
    <mapper resource="io/starter/stackgen/model/dao/StackgenUserMapper.xml" />
    <mapper resource="io/starter/stackgen/model/dao/StackgenCalendarEventMapper.xml" />
    <mapper resource="io/starter/stackgen/model/dao/StackgenAccountMapper.xml" />
    <mapper resource="io/starter/stackgen/model/dao/StackgenDataMapper.xml" />
    <mapper resource="io/starter/stackgen/model/dao/StackgenOrderDetailMapper.xml" />
    <mapper resource="io/starter/stackgen/model/dao/StackgenTradeOrderMapper.xml" />
    <mapper resource="io/starter/stackgen/model/dao/StackgenLedgerEntryMapper.xml" />
    <mapper resource="io/starter/stackgen/model/dao/StackgenWorkFlowsMapper.xml" />
    <mapper resource="io/starter/stackgen/model/dao/StackgenContactMethodMapper.xml" />
    <mapper resource="io/starter/stackgen/model/dao/StackgenLocationMapper.xml" />
    <mapper resource="io/starter/stackgen/model/dao/StackgenRoleMapper.xml" />
    <mapper resource="io/starter/stackgen/model/dao/StackgenCategoryMapper.xml" />
    <mapper resource="io/starter/stackgen/model/dao/StackgenStackMapper.xml" />
    <mapper resource="io/starter/stackgen/model/dao/StackgenContentMapper.xml" />
    <mapper resource="io/starter/stackgen/model/dao/StackgenCategoryMapper.xml" />
    <mapper resource="io/starter/stackgen/model/dao/StackgenItemMapper.xml" />
  </mappers>
</configuration>

